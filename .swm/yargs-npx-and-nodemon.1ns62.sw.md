---
id: 1ns62
name: yargs, npx, and nodemon
file_version: 1.0.2
app_version: 0.7.0-1
file_blobs:
  package.json: 840a5d30b1d15e438adc87742c04df4c0c06f16a
  src/bin/cli.ts: 16348197281d3db4ced8a06bc6ec0ae950bc77ec
---

Here we will discuss what code the command `npx run aoc day1` runs.

<br/>

[Npx](https://www.npmjs.com/package/npx) is a package that lets you run executable commands, either from `node_modules/.bin` or from this `bin` configuration in package.json.

To be honest I'm not sure what the advantage is of doing it this way vs. the traditional "npm run start".
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ package.json
```json
â¬œ 4        "description": "ðŸŽ„ Advent of Code CLI tool",
ðŸŸ© 5        "bin": {
ðŸŸ© 6          "aoc": "dist/src/bin/cli.js"
ðŸŸ© 7        },
â¬œ 8        "scripts": {
```

<br/>

# cli.ts

<br/>

Here is the entry point for the CLI code.

[yargs](http://yargs.js.org/) is an npm package to help you make CLIs in Node.js.

We use `hideBin`[<sup id="1wIvWO">â†“</sup>](#f-1wIvWO) because we don't care about the first CLI argument (the name of our own executable).

We specify `start`[<sup id="1MwJDB">â†“</sup>](#f-1MwJDB) as a command, imported from `ðŸ“„ src/bin/commands/start.ts`

We grab the config, including the session token and the current year, with a simple `middleware`[<sup id="UqJI8">â†“</sup>](#f-UqJI8) .

`help`[<sup id="1ssdFo">â†“</sup>](#f-1ssdFo) auto-generates what you get when you do `npx aoc --help`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/bin/cli.ts
```typescript
â¬œ 6      import { getConfig } from '../lib'
â¬œ 7      import { version } from '../../package.json'
â¬œ 8      
ðŸŸ© 9      // eslint-disable-next-line no-void
ðŸŸ© 10     void yargs(hideBin(process.argv))
ðŸŸ© 11       .command(start)
ðŸŸ© 12       .middleware(() => {
ðŸŸ© 13         process.env.CONFIG = JSON.stringify(getConfig())
ðŸŸ© 14       })
ðŸŸ© 15       .scriptName('aoc')
ðŸŸ© 16       .version(version)
ðŸŸ© 17       .help().argv
â¬œ 18     
```

<br/>

# start.ts

<br/>

<!-- THIS IS AN AUTOGENERATED SECTION. DO NOT EDIT THIS SECTION DIRECTLY -->
### Swimm Note

<span id="f-1ssdFo">help</span>[^](#1ssdFo) - "src/bin/cli.ts" L17
```typescript
  .help().argv
```

<span id="f-1wIvWO">hideBin</span>[^](#1wIvWO) - "src/bin/cli.ts" L10
```typescript
void yargs(hideBin(process.argv))
```

<span id="f-UqJI8">middleware</span>[^](#UqJI8) - "src/bin/cli.ts" L12
```typescript
  .middleware(() => {
```

<span id="f-1MwJDB">start</span>[^](#1MwJDB) - "src/bin/cli.ts" L11
```typescript
  .command(start)
```

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBYW9janMtY2xpJTNBJTNBZWxsaW90Zmlza2U=/docs/1ns62).