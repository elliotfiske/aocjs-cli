---
id: 1ns62
title: yargs, npx, and nodemon
file_version: 1.1.3
app_version: 1.18.21
---

Here we will discuss what code the command `npx run aoc day1` runs.

<br/>

[Npx](https://www.npmjs.com/package/npx) is a package that lets you run executable commands, either from `node_modules/.bin` or from this `bin` configuration in package.json.

To be honest I'm not sure what the advantage is of doing it this way vs. the traditional "npm run start".
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ package.json
```json
5        "bin": {
6          "aoc": "dist/src/bin/cli.js"
7        },
```

<br/>

# cli.ts

<br/>

Here is the entry point for the CLI code.

[yargs](http://yargs.js.org/) is an npm package to help you make CLIs in Node.js.

We use `hideBinRenamed`<swm-token data-swm-token=":src/bin/cli.ts:10:4:4:`void yargs(hideBinRenamed(process.argv))`"/> because we don't care about the first CLI argument (the name of our own executable).

We specify `start`<swm-token data-swm-token=":src/bin/cli.ts:11:4:4:`  .command(start)`"/> as a command, imported from `ðŸ“„ src/bin/commands/start.ts`

We grab the config, including the session token and the current year, with a simple `middleware`<swm-token data-swm-token=":src/bin/cli.ts:12:2:2:`  .middleware(() =&gt; {`"/> .

`help`<swm-token data-swm-token=":src/bin/cli.ts:17:2:2:`  .help().argv`"/> auto-generates what you get when you do `npx aoc --help`
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ src/bin/cli.ts
```typescript
9      // eslint-disable-next-line no-void
10     void yargs(hideBinRenamed(process.argv))
11       .command(start)
12       .middleware(() => {
13         process.env.CONFIG = JSON.stringify(getConfig())
14       })
15       .scriptName('aoc')
16       .version(version)
17       .help().argv
```

<br/>

# start.ts

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBYW9janMtY2xpJTNBJTNBZWxsaW90Zmlza2U=/docs/1ns62).
